(()=>{"use strict";let e="dynamic-cache-v1",t="static-cache-v1",s="api-cache-v1",n="image-cache-v1";[{'revision':null,'url':'/_next/static/chunks/0e5ce63c-cef059fd27103ca5.js'},{'revision':null,'url':'/_next/static/chunks/1889.60b6a9e058fb0955.js'},{'revision':null,'url':'/_next/static/chunks/3476-5613c0f1968adfa9.js'},{'revision':null,'url':'/_next/static/chunks/3601-680c7e8ebce05289.js'},{'revision':null,'url':'/_next/static/chunks/3845-909c779c7b59d2e4.js'},{'revision':null,'url':'/_next/static/chunks/4640-a4be1856d6c67e97.js'},{'revision':null,'url':'/_next/static/chunks/4bd1b696-4bfe127980858766.js'},{'revision':null,'url':'/_next/static/chunks/5090-95bcf8bd3d1e4a63.js'},{'revision':null,'url':'/_next/static/chunks/5203.7c54c202406d4620.js'},{'revision':null,'url':'/_next/static/chunks/6065-b354d8849c7b92f8.js'},{'revision':null,'url':'/_next/static/chunks/6187-8b2025ab2bc65d72.js'},{'revision':null,'url':'/_next/static/chunks/6218.073ed43b85399d77.js'},{'revision':null,'url':'/_next/static/chunks/6433-e0ea8fba1bb8a9ba.js'},{'revision':null,'url':'/_next/static/chunks/696-c981d7a4fc484e46.js'},{'revision':null,'url':'/_next/static/chunks/6edf0643-2ad1ab01fec89446.js'},{'revision':null,'url':'/_next/static/chunks/814-36d80b484a1dd127.js'},{'revision':null,'url':'/_next/static/chunks/8173-05253e0ae3156a6d.js'},{'revision':null,'url':'/_next/static/chunks/8590-e112735f1be46cd7.js'},{'revision':null,'url':'/_next/static/chunks/8827-c776c5a06610c4d0.js'},{'revision':null,'url':'/_next/static/chunks/8e1d74a4-6859ab5dbb140eda.js'},{'revision':null,'url':'/_next/static/chunks/9058-b3b36ff52eba9470.js'},{'revision':null,'url':'/_next/static/chunks/96-67c26d950cb0b941.js'},{'revision':null,'url':'/_next/static/chunks/ad2866b8-e61efaab7b01bf9f.js'},{'revision':null,'url':'/_next/static/chunks/app/(protected)/admin/%5Bcollection%5D/%5Bid%5D/page-756e780d2ad1fd56.js'},{'revision':null,'url':'/_next/static/chunks/app/(protected)/admin/%5Bcollection%5D/page-97dd4dc8685ed08d.js'},{'revision':null,'url':'/_next/static/chunks/app/(protected)/admin/page-f37a198e9e7c7ae2.js'},{'revision':null,'url':'/_next/static/chunks/app/(protected)/client/page-c2a0b6cbc570e419.js'},{'revision':null,'url':'/_next/static/chunks/app/(protected)/nastaveni/page-13e6edfbec51b903.js'},{'revision':null,'url':'/_next/static/chunks/app/(protected)/server/page-a41d4902796f5e6b.js'},{'revision':null,'url':'/_next/static/chunks/app/_not-found/page-3c9ededbb3e8d4f1.js'},{'revision':null,'url':'/_next/static/chunks/app/api/admin/%5Bcollection%5D/%5Bid%5D/route-f20fcfc7b2f99b73.js'},{'revision':null,'url':'/_next/static/chunks/app/api/admin/%5Bcollection%5D/route-08abaaa0b4ce4c6d.js'},{'revision':null,'url':'/_next/static/chunks/app/api/admin/route-0915867083bd1d76.js'},{'revision':null,'url':'/_next/static/chunks/app/api/auth/%5B...nextauth%5D/route-c4698d8d8671f280.js'},{'revision':null,'url':'/_next/static/chunks/app/api/contact/route-f268126d4d92b19b.js'},{'revision':null,'url':'/_next/static/chunks/app/api/news/%5Bid%5D/route-fd44ec424cb885c7.js'},{'revision':null,'url':'/_next/static/chunks/app/api/news/route-74ef53a2821cf776.js'},{'revision':null,'url':'/_next/static/chunks/app/api/results/%5Brok%5D/route-615533a8ff0ebc44.js'},{'revision':null,'url':'/_next/static/chunks/app/api/results/route-c681c8d752e4be97.js'},{'revision':null,'url':'/_next/static/chunks/app/api/saveTrack/route-823d18141330cc32.js'},{'revision':null,'url':'/_next/static/chunks/app/api/seasons/route-d92a2171201b73a7.js'},{'revision':null,'url':'/_next/static/chunks/app/api/user/results/%5Byear%5D/route-582710a7a8b7bd2e.js'},{'revision':null,'url':'/_next/static/chunks/app/api/user/results/route-ce48c56d25cef95b.js'},{'revision':null,'url':'/_next/static/chunks/app/auth/error/page-1865bab7dba1c10a.js'},{'revision':null,'url':'/_next/static/chunks/app/auth/login/page-a3db69afe5c4b234.js'},{'revision':null,'url':'/_next/static/chunks/app/auth/new-password/page-11bf46a45b623391.js'},{'revision':null,'url':'/_next/static/chunks/app/auth/new-verification/page-feaca0006ef4324b.js'},{'revision':null,'url':'/_next/static/chunks/app/auth/profil/page-e2276d4de2639da1.js'},{'revision':null,'url':'/_next/static/chunks/app/auth/register/page-c97935d18f011055.js'},{'revision':null,'url':'/_next/static/chunks/app/auth/reset/page-41a471fd86bf997c.js'},{'revision':null,'url':'/_next/static/chunks/app/examples/generic-table/page-afcd65c400bec274.js'},{'revision':null,'url':'/_next/static/chunks/app/examples/inventory-sales/page-f36236cda0816c17.js'},{'revision':null,'url':'/_next/static/chunks/app/examples/user-analytics/page-bfb8b19475d63a51.js'},{'revision':null,'url':'/_next/static/chunks/app/fotogalerie/page-ffeeed35343698c4.js'},{'revision':null,'url':'/_next/static/chunks/app/kontakty/page-30f5689be53d611a.js'},{'revision':null,'url':'/_next/static/chunks/app/layout-b75ed664bfe67d96.js'},{'revision':null,'url':'/_next/static/chunks/app/offline-test/page-c2f3bcbd1e9833fc.js'},{'revision':null,'url':'/_next/static/chunks/app/offline/page-d3f98de5fca3c95b.js'},{'revision':null,'url':'/_next/static/chunks/app/page-83b60d67400a6fc3.js'},{'revision':null,'url':'/_next/static/chunks/app/playground/page-cecc4e05bab87188.js'},{'revision':null,'url':'/_next/static/chunks/app/pravidla/page-4eef36a797f70d9e.js'},{'revision':null,'url':'/_next/static/chunks/app/vysledky/%5Brok%5D/page-b1204bea31b0f8f6.js'},{'revision':null,'url':'/_next/static/chunks/app/vysledky/moje/page-5c7230009e2aaa17.js'},{'revision':null,'url':'/_next/static/chunks/app/vysledky/page-1efa89d3b08f919d.js'},{'revision':null,'url':'/_next/static/chunks/d0deef33-e29d392a5d0e25f8.js'},{'revision':null,'url':'/_next/static/chunks/framework-9fe066fb31fb382b.js'},{'revision':null,'url':'/_next/static/chunks/main-app-b68480837fdfdd0d.js'},{'revision':null,'url':'/_next/static/chunks/main-b602123303583a0b.js'},{'revision':null,'url':'/_next/static/chunks/pages/_app-bfa3536d2730ca09.js'},{'revision':null,'url':'/_next/static/chunks/pages/_error-8b71684a1cf09722.js'},{'revision':'846118c33b2c0e922d7b3a7676f81f6f','url':'/_next/static/chunks/polyfills-42372ed130431b0a.js'},{'revision':null,'url':'/_next/static/chunks/webpack-6aaef35772a28c1c.js'},{'revision':null,'url':'/_next/static/css/303f1c8dcc2d8e6e.css'},{'revision':null,'url':'/_next/static/css/857aa62baa17c894.css'},{'revision':null,'url':'/_next/static/css/e6c99aee071fcefc.css'},{'revision':'42e6f3200852f7e3904128a093daab62','url':'/_next/static/media/dog_emoji.e0937497.png'},{'revision':'6515ed07ddb9cf07a618bc4fddb35bb8','url':'/_next/static/media/icon-192x192.afb6b95e.png'},{'revision':'f3e1571d0b50e6aac544afab0b14a5e8','url':'/_next/static/media/icon-512x512.093c7d8d.png'},{'revision':null,'url':'/_next/static/media/layers-2x.9859cd12.png'},{'revision':null,'url':'/_next/static/media/layers.ef6db872.png'},{'revision':'64e0ecd71b74e015c5952ddc781c4f43','url':'/_next/static/media/loginpagecover.9bc5d98f.webp'},{'revision':null,'url':'/_next/static/media/marker-icon.d577052a.png'},{'revision':'2b63eb473bc5727f1312c740216fb066','url':'/_next/static/media/pin_emoji.6bf5f927.png'},{'revision':'1c27f031d64b44fa2f468b5355b91df2','url':'/_next/static/media/strakataturistikabackground.f9219e0c.png'},{'revision':'307cd918f5fcff2cb4f219126b71ced6','url':'/_next/static/media/transparent-header-outline.c54f9054.png'},{'revision':'7f6c9a6f5e1da80f1beadb5f4f76564a','url':'/_next/static/media/transparent-header.c0500ca1.png'},{'revision':'9f58b05b21186007be3fc2026f081817','url':'/_next/static/zxYpqSHr4ofXewiamW_Zn/_buildManifest.js'},{'revision':'b6652df95db52feb4daf4eca35380933','url':'/_next/static/zxYpqSHr4ofXewiamW_Zn/_ssgManifest.js'},{'revision':'6203d34b795977747c3b12d8db18e0d2','url':'/apple-icon-180.png'},{'revision':'ff295e4d52750da492e61eca21b63fc6','url':'/apple-splash-1125-2436.jpg'},{'revision':'fc81c967d5291a35b7c821fb1028ee31','url':'/apple-splash-1136-640.jpg'},{'revision':'329cd7d9a1b6e12f964b21e736db0d2b','url':'/apple-splash-1170-2532.jpg'},{'revision':'9a83aeb3a6595e80861668cba28d3466','url':'/apple-splash-1179-2556.jpg'},{'revision':'0e26ad4b713c041efe8d44e5d8c9c03a','url':'/apple-splash-1206-2622.jpg'},{'revision':'e7075a2569af068531761d1e9a6a1213','url':'/apple-splash-1242-2208.jpg'},{'revision':'1f9f743b21d34e3f6d06c0524344f71d','url':'/apple-splash-1242-2688.jpg'},{'revision':'4148a02bf10c79440d137c9ed8b92479','url':'/apple-splash-1284-2778.jpg'},{'revision':'fe269832b00881c59b7bbce3e2b73a5f','url':'/apple-splash-1290-2796.jpg'},{'revision':'d99f1edd7ae8b3bd1a8f3a573a62cf81','url':'/apple-splash-1320-2868.jpg'},{'revision':'f2c1f3897e62640b390e841f0df8cd1e','url':'/apple-splash-1334-750.jpg'},{'revision':'d1866c1aeb221eca6930aa664cc8bc45','url':'/apple-splash-1488-2266.jpg'},{'revision':'fcab1ec614a6a75d584a36226792e9a8','url':'/apple-splash-1536-2048.jpg'},{'revision':'18ad8ee95ba34fcb863ed65556e5f4b5','url':'/apple-splash-1620-2160.jpg'},{'revision':'a6005ea93280827df2f3f28aee9367f1','url':'/apple-splash-1640-2360.jpg'},{'revision':'7788e351d606354423d464fe9d06b416','url':'/apple-splash-1668-2224.jpg'},{'revision':'586fe8d1547885b4389ba4d0b19c3784','url':'/apple-splash-1668-2388.jpg'},{'revision':'b41cb1a523995d5ac1c056bba395dff1','url':'/apple-splash-1792-828.jpg'},{'revision':'4a94a2a80e64662f4c2a7cfc177ebca0','url':'/apple-splash-2048-1536.jpg'},{'revision':'96abac763d3e37ee18f84453f2503c02','url':'/apple-splash-2048-2732.jpg'},{'revision':'3a81e1d43c5bda7b5e4ac401cd70c634','url':'/apple-splash-2160-1620.jpg'},{'revision':'1092b3d07a0d2489104dcee680ddf88a','url':'/apple-splash-2208-1242.jpg'},{'revision':'d262ce88fce5507f7a917b9fb0cab20e','url':'/apple-splash-2224-1668.jpg'},{'revision':'16f1df441e9b6ec0899bff074b60c083','url':'/apple-splash-2266-1488.jpg'},{'revision':'915985ce020ed33eddd1750a60c8c3f3','url':'/apple-splash-2360-1640.jpg'},{'revision':'b599febd6b1a113be1dbf6b81d8b1765','url':'/apple-splash-2388-1668.jpg'},{'revision':'12f2c83ec1dc5dba9c943b580d1579c6','url':'/apple-splash-2436-1125.jpg'},{'revision':'3850a021f479b10cb2bf6de878fe9865','url':'/apple-splash-2532-1170.jpg'},{'revision':'83ff222848c9b2c30d02f2588a0e52e3','url':'/apple-splash-2556-1179.jpg'},{'revision':'9c3fd0328e7db940f2fdde3505a23737','url':'/apple-splash-2622-1206.jpg'},{'revision':'5d797c893195df2d4a2dd9bf58cd499c','url':'/apple-splash-2688-1242.jpg'},{'revision':'08423f70c25558e0e138cdd91d156ac6','url':'/apple-splash-2732-2048.jpg'},{'revision':'2d0787fb5c73688513b8bca6e3341d6f','url':'/apple-splash-2778-1284.jpg'},{'revision':'c3cda47cafdfac1c9e6fa0a3fe0e7841','url':'/apple-splash-2796-1290.jpg'},{'revision':'94eb362708fc8f58300a229132490a4e','url':'/apple-splash-2868-1320.jpg'},{'revision':'fb86eac6e17d8bd4a40c06de2f894d87','url':'/apple-splash-640-1136.jpg'},{'revision':'760f20fc038fb67bcf6accd2c7655fc2','url':'/apple-splash-750-1334.jpg'},{'revision':'35eb72eed1266a7321608e1ba1044cf5','url':'/apple-splash-828-1792.jpg'},{'revision':'48a28100e1ca45f55bccee14038e14c0','url':'/dev-sw.js'},{'revision':'0c6befe9ceab177dd9c8184660051ed0','url':'/favicon-196.png'},{'revision':'01af3a47c77ccda60de6d5fc185679c4','url':'/favicon.ico'},{'revision':'d09f95206c3fa0bb9bd9fefabfd0ea71','url':'/file.svg'},{'revision':'2aaafa6a49b6563925fe440891e32717','url':'/globe.svg'},{'revision':'42e6f3200852f7e3904128a093daab62','url':'/icons\\dog_emoji.png'},{'revision':'6515ed07ddb9cf07a618bc4fddb35bb8','url':'/icons\\icon-192x192.png'},{'revision':'f3e1571d0b50e6aac544afab0b14a5e8','url':'/icons\\icon-512x512.png'},{'revision':'7f284f1ed935b0d0bbbe4c489f7cafe4','url':'/icons\\start_flag.png'},{'revision':'307cd918f5fcff2cb4f219126b71ced6','url':'/icons\\transparent-header-outline.png'},{'revision':'7f6c9a6f5e1da80f1beadb5f4f76564a','url':'/icons\\transparent-header.png'},{'revision':'a4df511cfae1ccc2ed9593c0c1086f89','url':'/manifest-icon-192.maskable.png'},{'revision':'bdcb6eaf680dd8cb3d6ffeb7f41676fc','url':'/manifest-icon-512.maskable.png'},{'revision':'8e061864f388b47f33a1c3780831193e','url':'/next.svg'},{'revision':'bdf8aa973968ce08e78ece956cfd6fa6','url':'/service-worker\\app-worker.js'},{'revision':'c0af2f507b369b085b35ef4bbe3bcf1e','url':'/vercel.svg'},{'revision':'f6a5aa3191b8018039256f9f1b81d0e0','url':'/vysledky\\vysledky2019.xlsx'},{'revision':'aadec764bb8c5c4e7bce9972d33ed85c','url':'/vysledky\\vysledky2021.xlsx'},{'revision':'ef4d45a8fb8957fe62be49bc5b3f1270','url':'/vysledky\\vysledky2022.xlsx'},{'revision':'5daac6f265ed882bd68db32499d056a9','url':'/vysledky\\vysledky2023.xlsx'},{'revision':'a2760511c65806022ad20adf74370ff3','url':'/window.svg'}];let a=["/","/vysledky","/pravidla","/offline"],c=()=>"onLine"in self&&!self.onLine,o=async e=>{if(c())return console.log("[Service Worker] Network is offline, skipping fetch"),Promise.reject(Error("Network is offline"));try{return await fetch(e)}catch(e){return console.error("[Service Worker] Fetch failed:",e),Promise.reject(e)}},r=async e=>{try{return await caches.match(e)||Promise.reject(Error("No cached response found"))}catch(e){return console.error("[Service Worker] Cache match failed:",e),Promise.reject(e)}},i=e=>new Response('<html>\n            <head>\n                <title>Offline</title>\n                <style>\n                    body {\n                        font-family: sans-serif;\n                        text-align: center;\n                        padding: 20px;\n                    }\n                    .error {\n                        max-width: 500px;\n                        margin: 0 auto;\n                        color: #666;\n                    }\n                </style>\n            </head>\n            <body>\n                <h1>Moment\xe1lně jste offline</h1>\n                <div class="error">\n                    <p>'.concat(e||"Požadovan\xfd obsah nen\xed k dispozici v offline režimu.","</p>\n                    <p>Zkontrolujte sv\xe9 připojen\xed k internetu a zkuste to znovu.</p>\n                </div>\n            </body>\n        </html>"),{status:503,statusText:"Service Unavailable",headers:new Headers({"Content-Type":"text/html","Cache-Control":"no-store"})});self.addEventListener("install",e=>{console.log("[Service Worker] Installing..."),e.waitUntil(caches.open(t).then(e=>(console.log("[Service Worker] Pre-caching important pages"),c())?(console.log("[Service Worker] Offline during install, skipping pre-cache"),Promise.resolve()):e.addAll(a).catch(e=>(console.error("[Service Worker] Pre-caching failed:",e),Promise.resolve())))),self.skipWaiting()}),self.addEventListener("activate",a=>{console.log("[Service Worker] Activating..."),a.waitUntil(caches.keys().then(a=>Promise.all(a.map(a=>a!==t&&a!==e&&a!==s&&a!==n?(console.log("[Service Worker] Removing old cache",a),caches.delete(a)):Promise.resolve()))).then(()=>(console.log("[Service Worker] Claiming clients..."),self.clients.claim())))});let l=e=>e.pathname.startsWith("/_next/image")||e.pathname.includes("/images/")||e.pathname.includes("/locations/");self.addEventListener("fetch",a=>{let c=a.request,h=new URL(c.url);if((h.origin.includes(self.location.origin)||h.hostname.includes("tile.openstreetmap.org")||h.hostname.includes("server.arcgisonline.com"))&&"GET"===c.method){if(l(h)){a.respondWith(r(c).then(e=>e||o(c).then(e=>{if(!e||!e.ok)return e;let t=e.clone();return caches.open(n).then(e=>{e.put(c,t).catch(e=>{console.error("[Service Worker] Failed to cache image:",e)})}).catch(e=>{console.error("[Service Worker] Failed to open image cache:",e)}),e}).catch(e=>(console.warn("[Service Worker] Image fetch failed:",e),Promise.resolve(new Response('<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300" fill="none"><rect width="400" height="300" fill="#f0f0f0"/><text x="50%" y="50%" text-anchor="middle" fill="#999" font-family="system-ui, sans-serif" font-size="24">Image unavailable offline</text></svg>',{status:200,headers:new Headers({"Content-Type":"image/svg+xml"})}))))).catch(e=>(console.warn("[Service Worker] Image cache match failed:",e),new Response('<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300" fill="none"><rect width="400" height="300" fill="#f0f0f0"/><text x="50%" y="50%" text-anchor="middle" fill="#999" font-family="system-ui, sans-serif" font-size="24">Image unavailable offline</text></svg>',{status:200,headers:new Headers({"Content-Type":"image/svg+xml"})}))));return}if(h.pathname.startsWith("/api/")){a.respondWith(o(c).then(e=>{let t=e.clone();return caches.open(s).then(e=>{e.put(c,t).catch(e=>{console.error("[Service Worker] Failed to cache API response:",e)})}).catch(e=>{console.error("[Service Worker] Failed to open API cache:",e)}),e}).catch(()=>r(c).catch(()=>new Response(JSON.stringify({error:!0,message:"Offline mode: API not available",offlineMode:!0}),{status:503,headers:new Headers({"Content-Type":"application/json","Cache-Control":"no-store"})}))));return}if("style"===c.destination||"script"===c.destination||"font"===c.destination||"image"===c.destination){a.respondWith(r(c).then(e=>e||o(c).then(e=>{let s=e.clone();return caches.open(t).then(e=>{e.put(c,s).catch(e=>{console.error("[Service Worker] Failed to cache static asset:",e)})}).catch(e=>{console.error("[Service Worker] Failed to open static cache:",e)}),e}).catch(e=>(console.warn("[Service Worker] Failed to fetch static asset:",e),"image"===c.destination)?new Response('<svg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300" fill="none"><rect width="400" height="300" fill="#f0f0f0"/><text x="50%" y="50%" text-anchor="middle" fill="#999" font-family="system-ui, sans-serif" font-size="24">Image unavailable offline</text></svg>',{status:200,headers:new Headers({"Content-Type":"image/svg+xml"})}):i("Statick\xfd soubor nen\xed k dispozici offline"))).catch(e=>(console.warn("[Service Worker] Static asset cache match failed:",e),i("Statick\xfd soubor nen\xed k dispozici offline"))));return}if("navigate"===c.mode){a.respondWith(o(c).then(t=>{let s=t.clone();return caches.open(e).then(e=>{e.put(c,s).catch(e=>{console.error("[Service Worker] Failed to cache page:",e)})}).catch(e=>{console.error("[Service Worker] Failed to open dynamic cache:",e)}),t}).catch(()=>r(c).then(e=>e||r("/offline").catch(()=>i("Str\xe1nka nen\xed k dispozici offline"))).catch(()=>i("Str\xe1nka nen\xed k dispozici offline"))));return}a.respondWith(r(c).then(e=>e||o(c).catch(e=>(console.warn("[Service Worker] Default handler fetch failed:",e),i("Obsah nen\xed k dispozici offline")))).catch(e=>(console.warn("[Service Worker] Default handler cache match failed:",e),i("Obsah nen\xed k dispozici offline"))))}}),self.addEventListener("message",r=>{let i=r.data;if(i)switch(i.type){case"CACHE_ALL_PAGES":let l=i.pages||a;if(c()){self.clients.matchAll().then(e=>{e.forEach(e=>{e.postMessage({type:"CACHE_COMPLETE",success:!1,message:"Cannot cache pages while offline"})})});return}caches.open(e).then(e=>{Promise.all(l.map(t=>o(t).then(s=>s.ok?e.put(t,s).catch(e=>(console.error("[Service Worker] Failed to put in cache:",t,e),Promise.resolve())):Promise.resolve()).catch(e=>(console.error("[Service Worker] Failed to cache:",t,e),Promise.resolve())))).then(()=>{self.clients.matchAll().then(e=>{e.forEach(e=>{e.postMessage({type:"CACHE_COMPLETE",success:!0})})})}).catch(e=>{console.error("[Service Worker] Cache all pages failed:",e),self.clients.matchAll().then(t=>{t.forEach(t=>{t.postMessage({type:"CACHE_COMPLETE",success:!1,message:e.message})})})})}).catch(e=>{console.error("[Service Worker] Failed to open dynamic cache:",e),self.clients.matchAll().then(t=>{t.forEach(t=>{t.postMessage({type:"CACHE_COMPLETE",success:!1,message:e.message})})})});break;case"CLEAR_ALL_CACHE":caches.keys().then(a=>{Promise.all(a.map(e=>caches.delete(e))).then(()=>Promise.all([caches.open(t),caches.open(e),caches.open(s),caches.open(n)])).then(()=>{self.clients.matchAll().then(e=>{e.forEach(e=>{e.postMessage({type:"CACHE_CLEARED",success:!0})})})}).catch(e=>{console.error("[Service Worker] Clear cache failed:",e),self.clients.matchAll().then(t=>{t.forEach(t=>{t.postMessage({type:"CACHE_CLEARED",success:!1,message:e.message})})})})});break;case"REQUEST_CACHED_PAGES":caches.keys().then(e=>Promise.all(e.map(e=>caches.open(e).then(e=>e.keys()).then(e=>e.map(e=>e.url)).catch(()=>[])))).then(e=>{let t=[...new Set([].concat(...e))];self.clients.matchAll().then(e=>{e.forEach(e=>{e.postMessage({type:"UPDATE_CACHED_PAGES",pages:t})})})}).catch(e=>{console.error("[Service Worker] Request cached pages failed:",e),self.clients.matchAll().then(t=>{t.forEach(t=>{t.postMessage({type:"UPDATE_CACHED_PAGES",pages:[],error:e.message})})})});break;case"REQUEST_CACHED_ENDPOINTS":caches.keys().then(e=>Promise.all(e.map(e=>caches.open(e).then(e=>e.keys()).then(e=>e.map(e=>e.url).filter(e=>e.includes("/api/"))).catch(()=>[])))).then(e=>{let t=[...new Set([].concat(...e))];self.clients.matchAll().then(e=>{e.forEach(e=>{e.postMessage({type:"UPDATE_CACHED_API_ENDPOINTS",endpoints:t,timestamp:Date.now()})})})}).catch(e=>{console.error("[Service Worker] Request cached endpoints failed:",e),self.clients.matchAll().then(t=>{t.forEach(t=>{t.postMessage({type:"UPDATE_CACHED_API_ENDPOINTS",endpoints:[],timestamp:Date.now(),error:e.message})})})})}})})();